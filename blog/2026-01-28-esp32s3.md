---
slug: ESP-IDF
title: get started with idf 
authors: [zephyr]
tags: [pl]
---

## ESP32S3 Development

Bike GPS with esp32s3 and in the future esp32c6.
<!-- truncate -->
### Install IDF

Refer to esp [doc](https://docs.espressif.com/projects/esp-idf/en/stable/esp32s3/get-started/linux-macos-setup.html)
And it is important to set the ENV Variables `IDF_TOOLS_PATH` and `IDF_PATH`

|Variable | Usage|
|--|--|
|IDF_PATH|where idf is installed |
|IDF_TOOLS_PATH|where git repo locates|

### lips on Linux

In some Linux distro, you may have no permission to flash program to esp32,
`ls -l /dev/tty*` to check the permission and ownership of `ttyACM0`, `ttyUSB0`
the device may have some other similar names.

Solutions:

- Change permission temperily
  - use `chmod +7 /dev/ttyUSB0`
- Add yourself to group `uucp`
  - `sudo usermod -aG dialout $USER`
  - use `groups` to check what groups you are already in.

### Config In VSCode

If you use C/C++ extension, use `c_cpp_properties`,
if you use clangd extension, then use `compile_commands`

What's more some dependencies will be specified in compile time.
And esp-idf will output the file in 'build' directory,
we can use it by
`ln -sf build/compile_commands.json compile_commands.json`
to let LSP know where those includes files are.

In `.clangd`, type these to let Clangd ignore includes not directly used.

```yaml
Diagnostics:
  Suppress:
    - unused-includes
```
